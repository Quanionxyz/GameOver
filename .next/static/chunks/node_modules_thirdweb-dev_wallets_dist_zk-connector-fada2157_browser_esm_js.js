"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_thirdweb-dev_wallets_dist_zk-connector-fada2157_browser_esm_js"],{

/***/ "./node_modules/@thirdweb-dev/wallets/dist/http-rpc-client-0a079e80.browser.esm.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/http-rpc-client-0a079e80.browser.esm.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   D: function() { return /* binding */ DEBUG; },\n/* harmony export */   H: function() { return /* binding */ HttpRpcClient; },\n/* harmony export */   g: function() { return /* binding */ getUserOpHashV06; },\n/* harmony export */   h: function() { return /* binding */ hexlifyUserOp; },\n/* harmony export */   r: function() { return /* binding */ randomNonce; }\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _url_a45219bd_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./url-a45219bd.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/url-a45219bd.browser.esm.js\");\n/* harmony import */ var _headers_733a8199_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./headers-733a8199.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/headers-733a8199.browser.esm.js\");\n/* harmony import */ var _utils_f58e7acc_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils-f58e7acc.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/utils-f58e7acc.browser.esm.js\");\n\n\n\n\n\nasync function hexlifyUserOp(\n// TODO: types\nop) {\n  const userOp = await ethers__WEBPACK_IMPORTED_MODULE_0__.utils.resolveProperties(op);\n  return Object.keys(userOp).map(key => {\n    let val = userOp[key];\n    if (typeof val !== \"string\" || !val.startsWith(\"0x\")) {\n      val = ethers__WEBPACK_IMPORTED_MODULE_0__.utils.hexValue(val);\n    }\n    return [key, val];\n  }).reduce((set, _ref) => {\n    let [k, v] = _ref;\n    return {\n      ...set,\n      [k]: v\n    };\n  }, {});\n}\n\n// v0.6 userOpHash calculation\nasync function getUserOpHashV06(userOp, entryPoint, chainId) {\n  const op = await ethers__WEBPACK_IMPORTED_MODULE_0__.utils.resolveProperties(userOp);\n  const hashedUserOp = {\n    sender: op.sender,\n    nonce: op.nonce,\n    initCodeHash: ethers__WEBPACK_IMPORTED_MODULE_0__.utils.keccak256(op.initCode),\n    callDataHash: ethers__WEBPACK_IMPORTED_MODULE_0__.utils.keccak256(op.callData),\n    callGasLimit: op.callGasLimit,\n    verificationGasLimit: op.verificationGasLimit,\n    preVerificationGas: op.preVerificationGas,\n    maxFeePerGas: op.maxFeePerGas,\n    maxPriorityFeePerGas: op.maxPriorityFeePerGas,\n    paymasterAndDataHash: ethers__WEBPACK_IMPORTED_MODULE_0__.utils.keccak256(op.paymasterAndData)\n  };\n  const userOpType = {\n    components: [{\n      type: \"address\",\n      name: \"sender\"\n    }, {\n      type: \"uint256\",\n      name: \"nonce\"\n    }, {\n      type: \"bytes32\",\n      name: \"initCodeHash\"\n    }, {\n      type: \"bytes32\",\n      name: \"callDataHash\"\n    }, {\n      type: \"uint256\",\n      name: \"callGasLimit\"\n    }, {\n      type: \"uint256\",\n      name: \"verificationGasLimit\"\n    }, {\n      type: \"uint256\",\n      name: \"preVerificationGas\"\n    }, {\n      type: \"uint256\",\n      name: \"maxFeePerGas\"\n    }, {\n      type: \"uint256\",\n      name: \"maxPriorityFeePerGas\"\n    }, {\n      type: \"bytes32\",\n      name: \"paymasterAndDataHash\"\n    }],\n    name: \"hashedUserOp\",\n    type: \"tuple\"\n  };\n  const encoded = ethers__WEBPACK_IMPORTED_MODULE_0__.utils.defaultAbiCoder.encode([userOpType], [{\n    ...hashedUserOp\n  }]);\n  // remove leading word (total length) and trailing word (zero-length signature)\n\n  const userOpHash = ethers__WEBPACK_IMPORTED_MODULE_0__.utils.keccak256(encoded);\n  const enc = ethers__WEBPACK_IMPORTED_MODULE_0__.utils.defaultAbiCoder.encode([\"bytes32\", \"address\", \"uint256\"], [userOpHash, entryPoint, chainId]);\n  return ethers__WEBPACK_IMPORTED_MODULE_0__.utils.keccak256(enc);\n}\nconst generateRandomUint192 = () => {\n  const rand1 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand2 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand3 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand4 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand5 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand6 = BigInt(Math.floor(Math.random() * 0x100000000));\n  return rand1 << BigInt(160) | rand2 << BigInt(128) | rand3 << BigInt(96) | rand4 << BigInt(64) | rand5 << BigInt(32) | rand6;\n};\nconst randomNonce = () => {\n  let hexString = generateRandomUint192().toString(16);\n  if (hexString.length % 2 !== 0) {\n    hexString = \"0\" + hexString;\n  }\n  hexString = \"0x\" + hexString;\n  return ethers__WEBPACK_IMPORTED_MODULE_0__.BigNumber.from(ethers__WEBPACK_IMPORTED_MODULE_0__.utils.concat([hexString, \"0x0000000000000000\"]));\n};\n\nconst DEBUG = false; // TODO set as public flag\n\nclass HttpRpcClient {\n  constructor(bundlerUrl, entryPointAddress, chainId, clientId, secretKey) {\n    this.bundlerUrl = bundlerUrl;\n    this.entryPointAddress = entryPointAddress;\n    this.chainId = chainId;\n    const headers = {};\n    if ((0,_url_a45219bd_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.i)(this.bundlerUrl)) {\n      const bundleId = typeof globalThis !== \"undefined\" && \"APP_BUNDLE_ID\" in globalThis ? globalThis.APP_BUNDLE_ID : undefined;\n      if (secretKey) {\n        headers[\"x-secret-key\"] = secretKey;\n      } else if (clientId) {\n        headers[\"x-client-id\"] = clientId;\n        if (bundleId) {\n          headers[\"x-bundle-id\"] = bundleId;\n        }\n      }\n\n      // Dashboard token\n      if (typeof globalThis !== \"undefined\" && \"TW_AUTH_TOKEN\" in globalThis && typeof globalThis.TW_AUTH_TOKEN === \"string\") {\n        headers[\"authorization\"] = `Bearer ${globalThis.TW_AUTH_TOKEN}`;\n      }\n\n      // CLI token\n      if (typeof globalThis !== \"undefined\" && \"TW_CLI_AUTH_TOKEN\" in globalThis && typeof globalThis.TW_CLI_AUTH_TOKEN === \"string\") {\n        headers[\"authorization\"] = `Bearer ${globalThis.TW_CLI_AUTH_TOKEN}`;\n        headers[\"x-authorize-wallet\"] = \"true\";\n      }\n      (0,_headers_733a8199_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.s)(headers);\n    }\n    this.userOpJsonRpcProvider = new ethers__WEBPACK_IMPORTED_MODULE_0__.providers.StaticJsonRpcProvider({\n      url: this.bundlerUrl,\n      headers\n    }, {\n      name: \"Connected bundler network\",\n      chainId\n    });\n    this.initializing = this.validateChainId();\n  }\n  async validateChainId() {\n    if (await (0,_utils_f58e7acc_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.e)(this.chainId)) {\n      return;\n    }\n    // validate chainId is in sync with expected chainid\n    const chain = await this.userOpJsonRpcProvider.send(\"eth_chainId\", []);\n    const bundlerChain = parseInt(chain);\n    if (bundlerChain !== this.chainId) {\n      throw new Error(`bundler ${this.bundlerUrl} is on chainId ${bundlerChain}, but provider is on chainId ${this.chainId}`);\n    }\n  }\n\n  /**\n   * send a UserOperation to the bundler\n   * @param userOp1 - The UserOperation to send\n   * @returns userOpHash the id of this operation, for getUserOperationTransaction\n   */\n  async sendUserOpToBundler(userOp1) {\n    await this.initializing;\n    const hexifiedUserOp = await hexlifyUserOp(userOp1);\n    const jsonRequestData = [hexifiedUserOp, this.entryPointAddress];\n    await this.printUserOperation(\"eth_sendUserOperation\", jsonRequestData);\n    return await this.userOpJsonRpcProvider.send(\"eth_sendUserOperation\", [hexifiedUserOp, this.entryPointAddress]);\n  }\n  async estimateUserOpGas(userOp) {\n    await this.initializing;\n    const hexifiedUserOp = await hexlifyUserOp(userOp);\n    const jsonRequestData = [hexifiedUserOp, this.entryPointAddress];\n    await this.printUserOperation(\"eth_estimateUserOperationGas\", jsonRequestData);\n    const data = await this.userOpJsonRpcProvider.send(\"eth_estimateUserOperationGas\", [hexifiedUserOp, this.entryPointAddress]);\n    // adds gas buffer to callGasLimit to account for ManagedAccountFactory delegate calls\n    return {\n      preVerificationGas: ethers__WEBPACK_IMPORTED_MODULE_0__.BigNumber.from(data.preVerificationGas),\n      verificationGas: ethers__WEBPACK_IMPORTED_MODULE_0__.BigNumber.from(data.verificationGas),\n      verificationGasLimit: ethers__WEBPACK_IMPORTED_MODULE_0__.BigNumber.from(data.verificationGasLimit),\n      callGasLimit: ethers__WEBPACK_IMPORTED_MODULE_0__.BigNumber.from(data.callGasLimit).add(_utils_f58e7acc_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.M)\n    };\n  }\n  async getUserOperationGasPrice() {\n    await this.initializing;\n    return await this.userOpJsonRpcProvider.send(\"thirdweb_getUserOperationGasPrice\", []);\n  }\n  async getUserOperationReceipt(userOpHash) {\n    await this.initializing;\n    return await this.userOpJsonRpcProvider.send(\"eth_getUserOperationReceipt\", [userOpHash]);\n  }\n  async zkPaymasterData(transactionInput) {\n    await this.initializing;\n    return await this.userOpJsonRpcProvider.send(\"zk_paymasterData\", [await hexlifyUserOp({\n      ...transactionInput,\n      gas: transactionInput.gasLimit\n    })]);\n  }\n  async zkBroadcastTransaction(transactionInput) {\n    await this.initializing;\n    return await this.userOpJsonRpcProvider.send(\"zk_broadcastTransaction\", [transactionInput]);\n  }\n  async printUserOperation(method, _ref) {\n    {\n      return;\n    }\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvaHR0cC1ycGMtY2xpZW50LTBhMDc5ZTgwLmJyb3dzZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFxRDtBQUNRO0FBQ2dCO0FBQ3lCOztBQUV0RztBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseUNBQUs7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5Q0FBSztBQUNqQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLHlDQUFLO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5Q0FBSztBQUN2QixrQkFBa0IseUNBQUs7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5Q0FBSztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5Q0FBSztBQUN2QjtBQUNBLEdBQUc7QUFDSDs7QUFFQSxxQkFBcUIseUNBQUs7QUFDMUIsY0FBYyx5Q0FBSztBQUNuQixTQUFTLHlDQUFLO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDZDQUFTLE1BQU0seUNBQUs7QUFDN0I7O0FBRUEscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZDQUE2Qyx5QkFBeUI7QUFDdEU7O0FBRUE7QUFDQTtBQUNBLDZDQUE2Qyw2QkFBNkI7QUFDMUU7QUFDQTtBQUNBLE1BQU0sbUVBQW1CO0FBQ3pCO0FBQ0EscUNBQXFDLDZDQUFTO0FBQzlDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlFQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxpQkFBaUIsZ0JBQWdCLGFBQWEsK0JBQStCLGFBQWE7QUFDM0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZDQUFTO0FBQ25DLHVCQUF1Qiw2Q0FBUztBQUNoQyw0QkFBNEIsNkNBQVM7QUFDckMsb0JBQW9CLDZDQUFTLDZCQUE2Qiw2REFBMEI7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdGhpcmR3ZWItZGV2L3dhbGxldHMvZGlzdC9odHRwLXJwYy1jbGllbnQtMGEwNzllODAuYnJvd3Nlci5lc20uanM/YTI4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1dGlscywgQmlnTnVtYmVyLCBwcm92aWRlcnMgfSBmcm9tICdldGhlcnMnO1xuaW1wb3J0IHsgaSBhcyBpc1R3VXJsIH0gZnJvbSAnLi91cmwtYTQ1MjE5YmQuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgcyBhcyBzZXRBbmFseXRpY3NIZWFkZXJzIH0gZnJvbSAnLi9oZWFkZXJzLTczM2E4MTk5LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IGUgYXMgaXNaa1N5bmNDaGFpbiwgTSBhcyBNQU5BR0VEX0FDQ09VTlRfR0FTX0JVRkZFUiB9IGZyb20gJy4vdXRpbHMtZjU4ZTdhY2MuYnJvd3Nlci5lc20uanMnO1xuXG5hc3luYyBmdW5jdGlvbiBoZXhsaWZ5VXNlck9wKFxuLy8gVE9ETzogdHlwZXNcbm9wKSB7XG4gIGNvbnN0IHVzZXJPcCA9IGF3YWl0IHV0aWxzLnJlc29sdmVQcm9wZXJ0aWVzKG9wKTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHVzZXJPcCkubWFwKGtleSA9PiB7XG4gICAgbGV0IHZhbCA9IHVzZXJPcFtrZXldO1xuICAgIGlmICh0eXBlb2YgdmFsICE9PSBcInN0cmluZ1wiIHx8ICF2YWwuc3RhcnRzV2l0aChcIjB4XCIpKSB7XG4gICAgICB2YWwgPSB1dGlscy5oZXhWYWx1ZSh2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gW2tleSwgdmFsXTtcbiAgfSkucmVkdWNlKChzZXQsIF9yZWYpID0+IHtcbiAgICBsZXQgW2ssIHZdID0gX3JlZjtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc2V0LFxuICAgICAgW2tdOiB2XG4gICAgfTtcbiAgfSwge30pO1xufVxuXG4vLyB2MC42IHVzZXJPcEhhc2ggY2FsY3VsYXRpb25cbmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJPcEhhc2hWMDYodXNlck9wLCBlbnRyeVBvaW50LCBjaGFpbklkKSB7XG4gIGNvbnN0IG9wID0gYXdhaXQgdXRpbHMucmVzb2x2ZVByb3BlcnRpZXModXNlck9wKTtcbiAgY29uc3QgaGFzaGVkVXNlck9wID0ge1xuICAgIHNlbmRlcjogb3Auc2VuZGVyLFxuICAgIG5vbmNlOiBvcC5ub25jZSxcbiAgICBpbml0Q29kZUhhc2g6IHV0aWxzLmtlY2NhazI1NihvcC5pbml0Q29kZSksXG4gICAgY2FsbERhdGFIYXNoOiB1dGlscy5rZWNjYWsyNTYob3AuY2FsbERhdGEpLFxuICAgIGNhbGxHYXNMaW1pdDogb3AuY2FsbEdhc0xpbWl0LFxuICAgIHZlcmlmaWNhdGlvbkdhc0xpbWl0OiBvcC52ZXJpZmljYXRpb25HYXNMaW1pdCxcbiAgICBwcmVWZXJpZmljYXRpb25HYXM6IG9wLnByZVZlcmlmaWNhdGlvbkdhcyxcbiAgICBtYXhGZWVQZXJHYXM6IG9wLm1heEZlZVBlckdhcyxcbiAgICBtYXhQcmlvcml0eUZlZVBlckdhczogb3AubWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgcGF5bWFzdGVyQW5kRGF0YUhhc2g6IHV0aWxzLmtlY2NhazI1NihvcC5wYXltYXN0ZXJBbmREYXRhKVxuICB9O1xuICBjb25zdCB1c2VyT3BUeXBlID0ge1xuICAgIGNvbXBvbmVudHM6IFt7XG4gICAgICB0eXBlOiBcImFkZHJlc3NcIixcbiAgICAgIG5hbWU6IFwic2VuZGVyXCJcbiAgICB9LCB7XG4gICAgICB0eXBlOiBcInVpbnQyNTZcIixcbiAgICAgIG5hbWU6IFwibm9uY2VcIlxuICAgIH0sIHtcbiAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiLFxuICAgICAgbmFtZTogXCJpbml0Q29kZUhhc2hcIlxuICAgIH0sIHtcbiAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiLFxuICAgICAgbmFtZTogXCJjYWxsRGF0YUhhc2hcIlxuICAgIH0sIHtcbiAgICAgIHR5cGU6IFwidWludDI1NlwiLFxuICAgICAgbmFtZTogXCJjYWxsR2FzTGltaXRcIlxuICAgIH0sIHtcbiAgICAgIHR5cGU6IFwidWludDI1NlwiLFxuICAgICAgbmFtZTogXCJ2ZXJpZmljYXRpb25HYXNMaW1pdFwiXG4gICAgfSwge1xuICAgICAgdHlwZTogXCJ1aW50MjU2XCIsXG4gICAgICBuYW1lOiBcInByZVZlcmlmaWNhdGlvbkdhc1wiXG4gICAgfSwge1xuICAgICAgdHlwZTogXCJ1aW50MjU2XCIsXG4gICAgICBuYW1lOiBcIm1heEZlZVBlckdhc1wiXG4gICAgfSwge1xuICAgICAgdHlwZTogXCJ1aW50MjU2XCIsXG4gICAgICBuYW1lOiBcIm1heFByaW9yaXR5RmVlUGVyR2FzXCJcbiAgICB9LCB7XG4gICAgICB0eXBlOiBcImJ5dGVzMzJcIixcbiAgICAgIG5hbWU6IFwicGF5bWFzdGVyQW5kRGF0YUhhc2hcIlxuICAgIH1dLFxuICAgIG5hbWU6IFwiaGFzaGVkVXNlck9wXCIsXG4gICAgdHlwZTogXCJ0dXBsZVwiXG4gIH07XG4gIGNvbnN0IGVuY29kZWQgPSB1dGlscy5kZWZhdWx0QWJpQ29kZXIuZW5jb2RlKFt1c2VyT3BUeXBlXSwgW3tcbiAgICAuLi5oYXNoZWRVc2VyT3BcbiAgfV0pO1xuICAvLyByZW1vdmUgbGVhZGluZyB3b3JkICh0b3RhbCBsZW5ndGgpIGFuZCB0cmFpbGluZyB3b3JkICh6ZXJvLWxlbmd0aCBzaWduYXR1cmUpXG5cbiAgY29uc3QgdXNlck9wSGFzaCA9IHV0aWxzLmtlY2NhazI1NihlbmNvZGVkKTtcbiAgY29uc3QgZW5jID0gdXRpbHMuZGVmYXVsdEFiaUNvZGVyLmVuY29kZShbXCJieXRlczMyXCIsIFwiYWRkcmVzc1wiLCBcInVpbnQyNTZcIl0sIFt1c2VyT3BIYXNoLCBlbnRyeVBvaW50LCBjaGFpbklkXSk7XG4gIHJldHVybiB1dGlscy5rZWNjYWsyNTYoZW5jKTtcbn1cbmNvbnN0IGdlbmVyYXRlUmFuZG9tVWludDE5MiA9ICgpID0+IHtcbiAgY29uc3QgcmFuZDEgPSBCaWdJbnQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDApKTtcbiAgY29uc3QgcmFuZDIgPSBCaWdJbnQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDApKTtcbiAgY29uc3QgcmFuZDMgPSBCaWdJbnQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDApKTtcbiAgY29uc3QgcmFuZDQgPSBCaWdJbnQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDApKTtcbiAgY29uc3QgcmFuZDUgPSBCaWdJbnQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDApKTtcbiAgY29uc3QgcmFuZDYgPSBCaWdJbnQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDApKTtcbiAgcmV0dXJuIHJhbmQxIDw8IEJpZ0ludCgxNjApIHwgcmFuZDIgPDwgQmlnSW50KDEyOCkgfCByYW5kMyA8PCBCaWdJbnQoOTYpIHwgcmFuZDQgPDwgQmlnSW50KDY0KSB8IHJhbmQ1IDw8IEJpZ0ludCgzMikgfCByYW5kNjtcbn07XG5jb25zdCByYW5kb21Ob25jZSA9ICgpID0+IHtcbiAgbGV0IGhleFN0cmluZyA9IGdlbmVyYXRlUmFuZG9tVWludDE5MigpLnRvU3RyaW5nKDE2KTtcbiAgaWYgKGhleFN0cmluZy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgaGV4U3RyaW5nID0gXCIwXCIgKyBoZXhTdHJpbmc7XG4gIH1cbiAgaGV4U3RyaW5nID0gXCIweFwiICsgaGV4U3RyaW5nO1xuICByZXR1cm4gQmlnTnVtYmVyLmZyb20odXRpbHMuY29uY2F0KFtoZXhTdHJpbmcsIFwiMHgwMDAwMDAwMDAwMDAwMDAwXCJdKSk7XG59O1xuXG5jb25zdCBERUJVRyA9IGZhbHNlOyAvLyBUT0RPIHNldCBhcyBwdWJsaWMgZmxhZ1xuXG5jbGFzcyBIdHRwUnBjQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoYnVuZGxlclVybCwgZW50cnlQb2ludEFkZHJlc3MsIGNoYWluSWQsIGNsaWVudElkLCBzZWNyZXRLZXkpIHtcbiAgICB0aGlzLmJ1bmRsZXJVcmwgPSBidW5kbGVyVXJsO1xuICAgIHRoaXMuZW50cnlQb2ludEFkZHJlc3MgPSBlbnRyeVBvaW50QWRkcmVzcztcbiAgICB0aGlzLmNoYWluSWQgPSBjaGFpbklkO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBpZiAoaXNUd1VybCh0aGlzLmJ1bmRsZXJVcmwpKSB7XG4gICAgICBjb25zdCBidW5kbGVJZCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiICYmIFwiQVBQX0JVTkRMRV9JRFwiIGluIGdsb2JhbFRoaXMgPyBnbG9iYWxUaGlzLkFQUF9CVU5ETEVfSUQgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoc2VjcmV0S2V5KSB7XG4gICAgICAgIGhlYWRlcnNbXCJ4LXNlY3JldC1rZXlcIl0gPSBzZWNyZXRLZXk7XG4gICAgICB9IGVsc2UgaWYgKGNsaWVudElkKSB7XG4gICAgICAgIGhlYWRlcnNbXCJ4LWNsaWVudC1pZFwiXSA9IGNsaWVudElkO1xuICAgICAgICBpZiAoYnVuZGxlSWQpIHtcbiAgICAgICAgICBoZWFkZXJzW1wieC1idW5kbGUtaWRcIl0gPSBidW5kbGVJZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBEYXNoYm9hcmQgdG9rZW5cbiAgICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcIlRXX0FVVEhfVE9LRU5cIiBpbiBnbG9iYWxUaGlzICYmIHR5cGVvZiBnbG9iYWxUaGlzLlRXX0FVVEhfVE9LRU4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7Z2xvYmFsVGhpcy5UV19BVVRIX1RPS0VOfWA7XG4gICAgICB9XG5cbiAgICAgIC8vIENMSSB0b2tlblxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiICYmIFwiVFdfQ0xJX0FVVEhfVE9LRU5cIiBpbiBnbG9iYWxUaGlzICYmIHR5cGVvZiBnbG9iYWxUaGlzLlRXX0NMSV9BVVRIX1RPS0VOID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGhlYWRlcnNbXCJhdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke2dsb2JhbFRoaXMuVFdfQ0xJX0FVVEhfVE9LRU59YDtcbiAgICAgICAgaGVhZGVyc1tcIngtYXV0aG9yaXplLXdhbGxldFwiXSA9IFwidHJ1ZVwiO1xuICAgICAgfVxuICAgICAgc2V0QW5hbHl0aWNzSGVhZGVycyhoZWFkZXJzKTtcbiAgICB9XG4gICAgdGhpcy51c2VyT3BKc29uUnBjUHJvdmlkZXIgPSBuZXcgcHJvdmlkZXJzLlN0YXRpY0pzb25ScGNQcm92aWRlcih7XG4gICAgICB1cmw6IHRoaXMuYnVuZGxlclVybCxcbiAgICAgIGhlYWRlcnNcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkNvbm5lY3RlZCBidW5kbGVyIG5ldHdvcmtcIixcbiAgICAgIGNoYWluSWRcbiAgICB9KTtcbiAgICB0aGlzLmluaXRpYWxpemluZyA9IHRoaXMudmFsaWRhdGVDaGFpbklkKCk7XG4gIH1cbiAgYXN5bmMgdmFsaWRhdGVDaGFpbklkKCkge1xuICAgIGlmIChhd2FpdCBpc1prU3luY0NoYWluKHRoaXMuY2hhaW5JZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gdmFsaWRhdGUgY2hhaW5JZCBpcyBpbiBzeW5jIHdpdGggZXhwZWN0ZWQgY2hhaW5pZFxuICAgIGNvbnN0IGNoYWluID0gYXdhaXQgdGhpcy51c2VyT3BKc29uUnBjUHJvdmlkZXIuc2VuZChcImV0aF9jaGFpbklkXCIsIFtdKTtcbiAgICBjb25zdCBidW5kbGVyQ2hhaW4gPSBwYXJzZUludChjaGFpbik7XG4gICAgaWYgKGJ1bmRsZXJDaGFpbiAhPT0gdGhpcy5jaGFpbklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGJ1bmRsZXIgJHt0aGlzLmJ1bmRsZXJVcmx9IGlzIG9uIGNoYWluSWQgJHtidW5kbGVyQ2hhaW59LCBidXQgcHJvdmlkZXIgaXMgb24gY2hhaW5JZCAke3RoaXMuY2hhaW5JZH1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogc2VuZCBhIFVzZXJPcGVyYXRpb24gdG8gdGhlIGJ1bmRsZXJcbiAgICogQHBhcmFtIHVzZXJPcDEgLSBUaGUgVXNlck9wZXJhdGlvbiB0byBzZW5kXG4gICAqIEByZXR1cm5zIHVzZXJPcEhhc2ggdGhlIGlkIG9mIHRoaXMgb3BlcmF0aW9uLCBmb3IgZ2V0VXNlck9wZXJhdGlvblRyYW5zYWN0aW9uXG4gICAqL1xuICBhc3luYyBzZW5kVXNlck9wVG9CdW5kbGVyKHVzZXJPcDEpIHtcbiAgICBhd2FpdCB0aGlzLmluaXRpYWxpemluZztcbiAgICBjb25zdCBoZXhpZmllZFVzZXJPcCA9IGF3YWl0IGhleGxpZnlVc2VyT3AodXNlck9wMSk7XG4gICAgY29uc3QganNvblJlcXVlc3REYXRhID0gW2hleGlmaWVkVXNlck9wLCB0aGlzLmVudHJ5UG9pbnRBZGRyZXNzXTtcbiAgICBhd2FpdCB0aGlzLnByaW50VXNlck9wZXJhdGlvbihcImV0aF9zZW5kVXNlck9wZXJhdGlvblwiLCBqc29uUmVxdWVzdERhdGEpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnVzZXJPcEpzb25ScGNQcm92aWRlci5zZW5kKFwiZXRoX3NlbmRVc2VyT3BlcmF0aW9uXCIsIFtoZXhpZmllZFVzZXJPcCwgdGhpcy5lbnRyeVBvaW50QWRkcmVzc10pO1xuICB9XG4gIGFzeW5jIGVzdGltYXRlVXNlck9wR2FzKHVzZXJPcCkge1xuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6aW5nO1xuICAgIGNvbnN0IGhleGlmaWVkVXNlck9wID0gYXdhaXQgaGV4bGlmeVVzZXJPcCh1c2VyT3ApO1xuICAgIGNvbnN0IGpzb25SZXF1ZXN0RGF0YSA9IFtoZXhpZmllZFVzZXJPcCwgdGhpcy5lbnRyeVBvaW50QWRkcmVzc107XG4gICAgYXdhaXQgdGhpcy5wcmludFVzZXJPcGVyYXRpb24oXCJldGhfZXN0aW1hdGVVc2VyT3BlcmF0aW9uR2FzXCIsIGpzb25SZXF1ZXN0RGF0YSk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMudXNlck9wSnNvblJwY1Byb3ZpZGVyLnNlbmQoXCJldGhfZXN0aW1hdGVVc2VyT3BlcmF0aW9uR2FzXCIsIFtoZXhpZmllZFVzZXJPcCwgdGhpcy5lbnRyeVBvaW50QWRkcmVzc10pO1xuICAgIC8vIGFkZHMgZ2FzIGJ1ZmZlciB0byBjYWxsR2FzTGltaXQgdG8gYWNjb3VudCBmb3IgTWFuYWdlZEFjY291bnRGYWN0b3J5IGRlbGVnYXRlIGNhbGxzXG4gICAgcmV0dXJuIHtcbiAgICAgIHByZVZlcmlmaWNhdGlvbkdhczogQmlnTnVtYmVyLmZyb20oZGF0YS5wcmVWZXJpZmljYXRpb25HYXMpLFxuICAgICAgdmVyaWZpY2F0aW9uR2FzOiBCaWdOdW1iZXIuZnJvbShkYXRhLnZlcmlmaWNhdGlvbkdhcyksXG4gICAgICB2ZXJpZmljYXRpb25HYXNMaW1pdDogQmlnTnVtYmVyLmZyb20oZGF0YS52ZXJpZmljYXRpb25HYXNMaW1pdCksXG4gICAgICBjYWxsR2FzTGltaXQ6IEJpZ051bWJlci5mcm9tKGRhdGEuY2FsbEdhc0xpbWl0KS5hZGQoTUFOQUdFRF9BQ0NPVU5UX0dBU19CVUZGRVIpXG4gICAgfTtcbiAgfVxuICBhc3luYyBnZXRVc2VyT3BlcmF0aW9uR2FzUHJpY2UoKSB7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXppbmc7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXNlck9wSnNvblJwY1Byb3ZpZGVyLnNlbmQoXCJ0aGlyZHdlYl9nZXRVc2VyT3BlcmF0aW9uR2FzUHJpY2VcIiwgW10pO1xuICB9XG4gIGFzeW5jIGdldFVzZXJPcGVyYXRpb25SZWNlaXB0KHVzZXJPcEhhc2gpIHtcbiAgICBhd2FpdCB0aGlzLmluaXRpYWxpemluZztcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51c2VyT3BKc29uUnBjUHJvdmlkZXIuc2VuZChcImV0aF9nZXRVc2VyT3BlcmF0aW9uUmVjZWlwdFwiLCBbdXNlck9wSGFzaF0pO1xuICB9XG4gIGFzeW5jIHprUGF5bWFzdGVyRGF0YSh0cmFuc2FjdGlvbklucHV0KSB7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXppbmc7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXNlck9wSnNvblJwY1Byb3ZpZGVyLnNlbmQoXCJ6a19wYXltYXN0ZXJEYXRhXCIsIFthd2FpdCBoZXhsaWZ5VXNlck9wKHtcbiAgICAgIC4uLnRyYW5zYWN0aW9uSW5wdXQsXG4gICAgICBnYXM6IHRyYW5zYWN0aW9uSW5wdXQuZ2FzTGltaXRcbiAgICB9KV0pO1xuICB9XG4gIGFzeW5jIHprQnJvYWRjYXN0VHJhbnNhY3Rpb24odHJhbnNhY3Rpb25JbnB1dCkge1xuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6aW5nO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnVzZXJPcEpzb25ScGNQcm92aWRlci5zZW5kKFwiemtfYnJvYWRjYXN0VHJhbnNhY3Rpb25cIiwgW3RyYW5zYWN0aW9uSW5wdXRdKTtcbiAgfVxuICBhc3luYyBwcmludFVzZXJPcGVyYXRpb24obWV0aG9kLCBfcmVmKSB7XG4gICAge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBERUJVRyBhcyBELCBIdHRwUnBjQ2xpZW50IGFzIEgsIGdldFVzZXJPcEhhc2hWMDYgYXMgZywgaGV4bGlmeVVzZXJPcCBhcyBoLCByYW5kb21Ob25jZSBhcyByIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/dist/http-rpc-client-0a079e80.browser.esm.js\n"));

/***/ }),

/***/ "./node_modules/@thirdweb-dev/wallets/dist/zk-connector-fada2157.browser.esm.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/zk-connector-fada2157.browser.esm.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ZkSyncConnector: function() { return /* binding */ ZkSyncConnector; }\n/* harmony export */ });\n/* harmony import */ var _defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./defineProperty-350fc508.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/defineProperty-350fc508.browser.esm.js\");\n/* harmony import */ var _connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./connector-05689d68.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/connector-05689d68.browser.esm.js\");\n/* harmony import */ var _http_rpc_client_0a079e80_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./http-rpc-client-0a079e80.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/http-rpc-client-0a079e80.browser.esm.js\");\n/* harmony import */ var _utils_f58e7acc_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils-f58e7acc.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/utils-f58e7acc.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers/lib/utils */ \"./node_modules/ethers/lib/utils.js\");\n/* harmony import */ var ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.mjs\");\n/* harmony import */ var _evm_wallets_abstract_dist_thirdweb_dev_wallets_evm_wallets_abstract_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../evm/wallets/abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/evm/wallets/abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.browser.esm.js\");\n/* harmony import */ var _account_abstraction_contracts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @account-abstraction/contracts */ \"./node_modules/@account-abstraction/contracts/dist/index.js\");\n/* harmony import */ var _account_abstraction_contracts__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_account_abstraction_contracts__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_GAS_PER_PUBDATA_LIMIT = 50000;\nconst EIP712_TX_TYPE = 0x71;\nconst EIP712_TYPES = {\n  Transaction: [{\n    name: \"txType\",\n    type: \"uint256\"\n  }, {\n    name: \"from\",\n    type: \"uint256\"\n  }, {\n    name: \"to\",\n    type: \"uint256\"\n  }, {\n    name: \"gasLimit\",\n    type: \"uint256\"\n  }, {\n    name: \"gasPerPubdataByteLimit\",\n    type: \"uint256\"\n  }, {\n    name: \"maxFeePerGas\",\n    type: \"uint256\"\n  }, {\n    name: \"maxPriorityFeePerGas\",\n    type: \"uint256\"\n  }, {\n    name: \"paymaster\",\n    type: \"uint256\"\n  }, {\n    name: \"nonce\",\n    type: \"uint256\"\n  }, {\n    name: \"value\",\n    type: \"uint256\"\n  }, {\n    name: \"data\",\n    type: \"bytes\"\n  }, {\n    name: \"factoryDeps\",\n    type: \"bytes32[]\"\n  }, {\n    name: \"paymasterInput\",\n    type: \"bytes\"\n  }]\n};\nclass ZkWrappedSigner extends ethers__WEBPACK_IMPORTED_MODULE_3__.Signer {\n  constructor(signer, httpRpcClient) {\n    super();\n    this.signer = signer;\n    (0,ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this, \"provider\", signer.provider);\n    this.httpRpcClient = httpRpcClient;\n  }\n  async getAddress() {\n    return await this.signer.getAddress();\n  }\n  async signMessage(message) {\n    return await this.signer.signMessage(message);\n  }\n  async signTransaction(transaction) {\n    return await this.signer.signTransaction(transaction);\n  }\n  connect(provider) {\n    return new ZkWrappedSigner(this.signer.connect(provider), this.httpRpcClient);\n  }\n  _signTypedData(domain, types, value) {\n    return this.signer._signTypedData(domain, types, value);\n  }\n  async sendTransaction(transaction) {\n    return await this.sendZkSyncTransaction(transaction);\n  }\n  async sendZkSyncTransaction(_transaction) {\n    let transaction = await this.populateTransaction(_transaction);\n    if (!transaction.chainId) {\n      throw new Error(\"ChainId is required to send a ZkSync transaction\");\n    }\n    if (!this.provider) {\n      throw new Error(\"Provider is required to send a ZkSync transaction\");\n    }\n    const address = await this.getAddress();\n    const gasLimit = ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.BigNumber.from(transaction.gasLimit || (await this.provider.estimateGas(transaction))).mul(3);\n    const gasPrice = ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.BigNumber.from(transaction.gasPrice || (await this.provider.getGasPrice())).mul(2);\n    if (!transaction.maxFeePerGas) {\n      transaction.maxFeePerGas = gasPrice;\n    } else {\n      transaction.maxFeePerGas = transaction.maxFeePerGas.mul(2);\n    }\n    if (!transaction.maxPriorityFeePerGas) {\n      transaction.maxPriorityFeePerGas = gasPrice;\n    } else {\n      transaction.maxPriorityFeePerGas = transaction.maxPriorityFeePerGas.mul(2);\n    }\n    transaction = {\n      ...transaction,\n      from: address,\n      gasLimit,\n      gasPrice,\n      chainId: (await this.provider.getNetwork()).chainId,\n      nonce: await this.provider.getTransactionCount(address),\n      type: 113,\n      value: BigInt(0)\n    };\n    const pmDataResult = await this.httpRpcClient?.zkPaymasterData(transaction);\n    transaction.customData = {\n      gasPerPubdata: DEFAULT_GAS_PER_PUBDATA_LIMIT,\n      factoryDeps: [],\n      paymasterParams: {\n        paymaster: pmDataResult.paymaster,\n        paymasterInput: pmDataResult.paymasterInput\n      }\n    };\n    const eip712tx = {\n      txType: EIP712_TX_TYPE,\n      from: BigInt(transaction.from || (await this.getAddress())).toString(),\n      to: BigInt(transaction.to || \"0x0\").toString(),\n      gasLimit: transaction.gasLimit ? Number(transaction.gasLimit) : 0,\n      gasPerPubdataByteLimit: DEFAULT_GAS_PER_PUBDATA_LIMIT,\n      maxFeePerGas: ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.BigNumber.from(transaction.maxFeePerGas).toNumber(),\n      maxPriorityFeePerGas: ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.BigNumber.from(transaction.maxPriorityFeePerGas).toNumber(),\n      paymaster: BigInt(pmDataResult.paymaster).toString(),\n      nonce: ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.BigNumber.from(transaction.nonce).toNumber(),\n      value: ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.BigNumber.from(transaction.value).toNumber(),\n      data: transaction.data || \"0x\",\n      factoryDeps: [],\n      paymasterInput: ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.utils.arrayify(pmDataResult.paymasterInput)\n    };\n    const signature = await this._signTypedData({\n      name: \"zkSync\",\n      version: \"2\",\n      chainId: transaction.chainId\n    }, EIP712_TYPES, eip712tx);\n    const serializedTx = this.serialize(transaction, signature);\n    const zkSignedTx = {\n      from: transaction.from?.toString() || (await this.getAddress()),\n      to: transaction.to?.toString() || \"\",\n      gas: transaction.gasLimit?.toString() || \"\",\n      maxFeePerGas: transaction.maxFeePerGas?.toString() || \"0\",\n      maxPriorityFeePerGas: transaction.maxPriorityFeePerGas?.toString() || \"0\",\n      signedTransaction: serializedTx,\n      paymaster: pmDataResult.paymaster\n    };\n    const broadcastResult = await this.httpRpcClient?.zkBroadcastTransaction(zkSignedTx);\n    const hash = broadcastResult.transactionHash;\n    return await this.provider?.getTransaction(hash);\n  }\n  serialize(transaction, signature) {\n    if (!transaction.customData && transaction.type !== EIP712_TX_TYPE) {\n      return ethers__WEBPACK_IMPORTED_MODULE_3__.utils.serializeTransaction(transaction, signature);\n    }\n    if (!transaction.chainId) {\n      throw Error(\"Transaction chainId isn't set!\");\n    }\n    function formatNumber(value, name) {\n      const result = ethers__WEBPACK_IMPORTED_MODULE_3__.utils.stripZeros(ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(value).toHexString());\n      if (result.length > 32) {\n        throw new Error(`Invalid length for ${name}!`);\n      }\n      return result;\n    }\n    if (!transaction.from) {\n      throw new Error(\"Explicitly providing `from` field is required for EIP712 transactions!\");\n    }\n    const from = transaction.from;\n    const meta = transaction.customData ?? {};\n    const maxFeePerGas = transaction.maxFeePerGas || transaction.gasPrice || 0;\n    const maxPriorityFeePerGas = transaction.maxPriorityFeePerGas || maxFeePerGas;\n    const fields = [formatNumber(transaction.nonce || 0, \"nonce\"), formatNumber(maxPriorityFeePerGas, \"maxPriorityFeePerGas\"), formatNumber(maxFeePerGas, \"maxFeePerGas\"), formatNumber(transaction.gasLimit || 0, \"gasLimit\"), transaction.to ? ethers__WEBPACK_IMPORTED_MODULE_3__.utils.getAddress(transaction.to) : \"0x\", formatNumber(transaction.value || 0, \"value\"), transaction.data || \"0x\"];\n    if (signature) {\n      const sig = ethers__WEBPACK_IMPORTED_MODULE_3__.utils.splitSignature(signature);\n      fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n      fields.push(ethers__WEBPACK_IMPORTED_MODULE_3__.utils.stripZeros(sig.r));\n      fields.push(ethers__WEBPACK_IMPORTED_MODULE_3__.utils.stripZeros(sig.s));\n    } else {\n      fields.push(formatNumber(transaction.chainId, \"chainId\"));\n      fields.push(\"0x\");\n      fields.push(\"0x\");\n    }\n    fields.push(formatNumber(transaction.chainId, \"chainId\"));\n    fields.push(ethers__WEBPACK_IMPORTED_MODULE_3__.utils.getAddress(from));\n\n    // Add meta\n    fields.push(formatNumber(meta.gasPerPubdata || DEFAULT_GAS_PER_PUBDATA_LIMIT, \"gasPerPubdata\"));\n    fields.push((meta.factoryDeps ?? []).map(dep => ethers__WEBPACK_IMPORTED_MODULE_3__.utils.hexlify(dep)));\n    if (meta.customSignature && ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.utils.arrayify(meta.customSignature).length === 0) {\n      throw new Error(\"Empty signatures are not supported!\");\n    }\n    fields.push(meta.customSignature || \"0x\");\n    if (meta.paymasterParams) {\n      fields.push([meta.paymasterParams.paymaster, ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.utils.hexlify(meta.paymasterParams.paymasterInput)]);\n    } else {\n      fields.push([]);\n    }\n    return ethers__WEBPACK_IMPORTED_MODULE_3__.utils.hexConcat([[EIP712_TX_TYPE], ethers__WEBPACK_IMPORTED_MODULE_3__.utils.RLP.encode(fields)]);\n  }\n}\n\nclass ZkSyncConnector extends _connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.C {\n  constructor(config) {\n    super();\n    (0,_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__._)(this, \"chainId\", 1);\n    this.config = config;\n  }\n  async connect(args) {\n    this.personalWallet = args.personalWallet;\n    this.chainId = await (await this.personalWallet.getSigner()).getChainId();\n    if (!(await (0,_utils_f58e7acc_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.e)(this.chainId))) {\n      throw new Error(\"Invalid zksync chain id\");\n    }\n    const bundlerUrl = this.config.bundlerUrl || `https://${this.chainId}.bundler.thirdweb.com`;\n    const entryPointAddress = this.config.entryPointAddress || _utils_f58e7acc_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.f;\n    this.httpRpcClient = new _http_rpc_client_0a079e80_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.H(bundlerUrl, entryPointAddress, this.chainId, this.config.clientId, this.config.secretKey);\n    return this.getAddress();\n  }\n  disconnect() {\n    throw new Error(\"Method not implemented.\");\n  }\n  async getAddress() {\n    const signer = await this.getSigner();\n    return signer.getAddress();\n  }\n  async getSigner() {\n    if (!this.personalWallet) {\n      throw new Error(\"Wallet not connected\");\n    }\n    return new ZkWrappedSigner(await this.personalWallet.getSigner(), this.httpRpcClient);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  switchChain(chainId) {\n    throw new Error(\"Method not implemented.\");\n  }\n  isConnected() {\n    return Promise.resolve(!!this.personalWallet);\n  }\n  setupListeners() {\n    throw new Error(\"Method not implemented.\");\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updateChains(chains) {\n    throw new Error(\"Method not implemented.\");\n  }\n  async getProvider() {\n    if (!this.getSigner()) {\n      throw new Error(\"Personal wallet not connected\");\n    }\n    const signer = await this.getSigner();\n    if (!signer.provider) {\n      throw new Error(\"Provider not found\");\n    }\n    return signer.provider;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvemstY29ubmVjdG9yLWZhZGEyMTU3LmJyb3dzZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFnRjtBQUNYO0FBQ1U7QUFDZTtBQUNwQztBQUNSO0FBQzNCO0FBQ2dCO0FBQ1Q7QUFDYTtBQUNvRDtBQUNwRTtBQUNhOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSw4QkFBOEIsMENBQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnRUFBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBDQUFNO0FBQzNCLHFCQUFxQiwwQ0FBTTtBQUMzQjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwQ0FBTTtBQUMxQiw0QkFBNEIsMENBQU07QUFDbEM7QUFDQSxhQUFhLDBDQUFNO0FBQ25CLGFBQWEsMENBQU07QUFDbkI7QUFDQTtBQUNBLHNCQUFzQiwwQ0FBTTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5Q0FBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlDQUFLLFlBQVksNkNBQVM7QUFDL0M7QUFDQSw4Q0FBOEMsS0FBSztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlQQUFpUCx5Q0FBSztBQUN0UDtBQUNBLGtCQUFrQix5Q0FBSztBQUN2QjtBQUNBLGtCQUFrQix5Q0FBSztBQUN2QixrQkFBa0IseUNBQUs7QUFDdkIsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQUs7O0FBRXJCO0FBQ0E7QUFDQSxvREFBb0QseUNBQUs7QUFDekQsZ0NBQWdDLDBDQUFNO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDBDQUFNO0FBQ3pELE1BQU07QUFDTjtBQUNBO0FBQ0EsV0FBVyx5Q0FBSyw4QkFBOEIseUNBQUs7QUFDbkQ7QUFDQTs7QUFFQSw4QkFBOEIsaUVBQVM7QUFDdkM7QUFDQTtBQUNBLElBQUksMEVBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpRUFBYTtBQUM3QjtBQUNBO0FBQ0EsNERBQTRELGFBQWE7QUFDekUsK0RBQStELDZEQUFrQjtBQUNqRiw2QkFBNkIsdUVBQWE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9kaXN0L3prLWNvbm5lY3Rvci1mYWRhMjE1Ny5icm93c2VyLmVzbS5qcz9kZjIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF8gYXMgX2RlZmluZVByb3BlcnR5IH0gZnJvbSAnLi9kZWZpbmVQcm9wZXJ0eS0zNTBmYzUwOC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBDIGFzIENvbm5lY3RvciB9IGZyb20gJy4vY29ubmVjdG9yLTA1Njg5ZDY4LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IEggYXMgSHR0cFJwY0NsaWVudCB9IGZyb20gJy4vaHR0cC1ycGMtY2xpZW50LTBhMDc5ZTgwLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IGUgYXMgaXNaa1N5bmNDaGFpbiwgZiBhcyBFTlRSWVBPSU5UX0FERFJFU1MgfSBmcm9tICcuL3V0aWxzLWY1OGU3YWNjLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IFNpZ25lciwgZXRoZXJzLCB1dGlscywgQmlnTnVtYmVyIH0gZnJvbSAnZXRoZXJzJztcbmltcG9ydCB7IGRlZmluZVJlYWRPbmx5IH0gZnJvbSAnZXRoZXJzL2xpYi91dGlscyc7XG5pbXBvcnQgJ2V2ZW50ZW1pdHRlcjMnO1xuaW1wb3J0ICcuL3VybC1hNDUyMTliZC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY2hhaW5zJztcbmltcG9ydCAnLi9oZWFkZXJzLTczM2E4MTk5LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCAnLi4vZXZtL3dhbGxldHMvYWJzdHJhY3QvZGlzdC90aGlyZHdlYi1kZXYtd2FsbGV0cy1ldm0td2FsbGV0cy1hYnN0cmFjdC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvc2RrJztcbmltcG9ydCAnQGFjY291bnQtYWJzdHJhY3Rpb24vY29udHJhY3RzJztcblxuY29uc3QgREVGQVVMVF9HQVNfUEVSX1BVQkRBVEFfTElNSVQgPSA1MDAwMDtcbmNvbnN0IEVJUDcxMl9UWF9UWVBFID0gMHg3MTtcbmNvbnN0IEVJUDcxMl9UWVBFUyA9IHtcbiAgVHJhbnNhY3Rpb246IFt7XG4gICAgbmFtZTogXCJ0eFR5cGVcIixcbiAgICB0eXBlOiBcInVpbnQyNTZcIlxuICB9LCB7XG4gICAgbmFtZTogXCJmcm9tXCIsXG4gICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgfSwge1xuICAgIG5hbWU6IFwidG9cIixcbiAgICB0eXBlOiBcInVpbnQyNTZcIlxuICB9LCB7XG4gICAgbmFtZTogXCJnYXNMaW1pdFwiLFxuICAgIHR5cGU6IFwidWludDI1NlwiXG4gIH0sIHtcbiAgICBuYW1lOiBcImdhc1BlclB1YmRhdGFCeXRlTGltaXRcIixcbiAgICB0eXBlOiBcInVpbnQyNTZcIlxuICB9LCB7XG4gICAgbmFtZTogXCJtYXhGZWVQZXJHYXNcIixcbiAgICB0eXBlOiBcInVpbnQyNTZcIlxuICB9LCB7XG4gICAgbmFtZTogXCJtYXhQcmlvcml0eUZlZVBlckdhc1wiLFxuICAgIHR5cGU6IFwidWludDI1NlwiXG4gIH0sIHtcbiAgICBuYW1lOiBcInBheW1hc3RlclwiLFxuICAgIHR5cGU6IFwidWludDI1NlwiXG4gIH0sIHtcbiAgICBuYW1lOiBcIm5vbmNlXCIsXG4gICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgfSwge1xuICAgIG5hbWU6IFwidmFsdWVcIixcbiAgICB0eXBlOiBcInVpbnQyNTZcIlxuICB9LCB7XG4gICAgbmFtZTogXCJkYXRhXCIsXG4gICAgdHlwZTogXCJieXRlc1wiXG4gIH0sIHtcbiAgICBuYW1lOiBcImZhY3RvcnlEZXBzXCIsXG4gICAgdHlwZTogXCJieXRlczMyW11cIlxuICB9LCB7XG4gICAgbmFtZTogXCJwYXltYXN0ZXJJbnB1dFwiLFxuICAgIHR5cGU6IFwiYnl0ZXNcIlxuICB9XVxufTtcbmNsYXNzIFprV3JhcHBlZFNpZ25lciBleHRlbmRzIFNpZ25lciB7XG4gIGNvbnN0cnVjdG9yKHNpZ25lciwgaHR0cFJwY0NsaWVudCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zaWduZXIgPSBzaWduZXI7XG4gICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJwcm92aWRlclwiLCBzaWduZXIucHJvdmlkZXIpO1xuICAgIHRoaXMuaHR0cFJwY0NsaWVudCA9IGh0dHBScGNDbGllbnQ7XG4gIH1cbiAgYXN5bmMgZ2V0QWRkcmVzcygpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zaWduZXIuZ2V0QWRkcmVzcygpO1xuICB9XG4gIGFzeW5jIHNpZ25NZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zaWduZXIuc2lnbk1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cbiAgYXN5bmMgc2lnblRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2lnbmVyLnNpZ25UcmFuc2FjdGlvbih0cmFuc2FjdGlvbik7XG4gIH1cbiAgY29ubmVjdChwcm92aWRlcikge1xuICAgIHJldHVybiBuZXcgWmtXcmFwcGVkU2lnbmVyKHRoaXMuc2lnbmVyLmNvbm5lY3QocHJvdmlkZXIpLCB0aGlzLmh0dHBScGNDbGllbnQpO1xuICB9XG4gIF9zaWduVHlwZWREYXRhKGRvbWFpbiwgdHlwZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2lnbmVyLl9zaWduVHlwZWREYXRhKGRvbWFpbiwgdHlwZXMsIHZhbHVlKTtcbiAgfVxuICBhc3luYyBzZW5kVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zZW5kWmtTeW5jVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pO1xuICB9XG4gIGFzeW5jIHNlbmRaa1N5bmNUcmFuc2FjdGlvbihfdHJhbnNhY3Rpb24pIHtcbiAgICBsZXQgdHJhbnNhY3Rpb24gPSBhd2FpdCB0aGlzLnBvcHVsYXRlVHJhbnNhY3Rpb24oX3RyYW5zYWN0aW9uKTtcbiAgICBpZiAoIXRyYW5zYWN0aW9uLmNoYWluSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgaXMgcmVxdWlyZWQgdG8gc2VuZCBhIFprU3luYyB0cmFuc2FjdGlvblwiKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlciBpcyByZXF1aXJlZCB0byBzZW5kIGEgWmtTeW5jIHRyYW5zYWN0aW9uXCIpO1xuICAgIH1cbiAgICBjb25zdCBhZGRyZXNzID0gYXdhaXQgdGhpcy5nZXRBZGRyZXNzKCk7XG4gICAgY29uc3QgZ2FzTGltaXQgPSBldGhlcnMuQmlnTnVtYmVyLmZyb20odHJhbnNhY3Rpb24uZ2FzTGltaXQgfHwgKGF3YWl0IHRoaXMucHJvdmlkZXIuZXN0aW1hdGVHYXModHJhbnNhY3Rpb24pKSkubXVsKDMpO1xuICAgIGNvbnN0IGdhc1ByaWNlID0gZXRoZXJzLkJpZ051bWJlci5mcm9tKHRyYW5zYWN0aW9uLmdhc1ByaWNlIHx8IChhd2FpdCB0aGlzLnByb3ZpZGVyLmdldEdhc1ByaWNlKCkpKS5tdWwoMik7XG4gICAgaWYgKCF0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXMpIHtcbiAgICAgIHRyYW5zYWN0aW9uLm1heEZlZVBlckdhcyA9IGdhc1ByaWNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXMgPSB0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXMubXVsKDIpO1xuICAgIH1cbiAgICBpZiAoIXRyYW5zYWN0aW9uLm1heFByaW9yaXR5RmVlUGVyR2FzKSB7XG4gICAgICB0cmFuc2FjdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcyA9IGdhc1ByaWNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2FjdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcyA9IHRyYW5zYWN0aW9uLm1heFByaW9yaXR5RmVlUGVyR2FzLm11bCgyKTtcbiAgICB9XG4gICAgdHJhbnNhY3Rpb24gPSB7XG4gICAgICAuLi50cmFuc2FjdGlvbixcbiAgICAgIGZyb206IGFkZHJlc3MsXG4gICAgICBnYXNMaW1pdCxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgY2hhaW5JZDogKGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0TmV0d29yaygpKS5jaGFpbklkLFxuICAgICAgbm9uY2U6IGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0VHJhbnNhY3Rpb25Db3VudChhZGRyZXNzKSxcbiAgICAgIHR5cGU6IDExMyxcbiAgICAgIHZhbHVlOiBCaWdJbnQoMClcbiAgICB9O1xuICAgIGNvbnN0IHBtRGF0YVJlc3VsdCA9IGF3YWl0IHRoaXMuaHR0cFJwY0NsaWVudD8uemtQYXltYXN0ZXJEYXRhKHRyYW5zYWN0aW9uKTtcbiAgICB0cmFuc2FjdGlvbi5jdXN0b21EYXRhID0ge1xuICAgICAgZ2FzUGVyUHViZGF0YTogREVGQVVMVF9HQVNfUEVSX1BVQkRBVEFfTElNSVQsXG4gICAgICBmYWN0b3J5RGVwczogW10sXG4gICAgICBwYXltYXN0ZXJQYXJhbXM6IHtcbiAgICAgICAgcGF5bWFzdGVyOiBwbURhdGFSZXN1bHQucGF5bWFzdGVyLFxuICAgICAgICBwYXltYXN0ZXJJbnB1dDogcG1EYXRhUmVzdWx0LnBheW1hc3RlcklucHV0XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBlaXA3MTJ0eCA9IHtcbiAgICAgIHR4VHlwZTogRUlQNzEyX1RYX1RZUEUsXG4gICAgICBmcm9tOiBCaWdJbnQodHJhbnNhY3Rpb24uZnJvbSB8fCAoYXdhaXQgdGhpcy5nZXRBZGRyZXNzKCkpKS50b1N0cmluZygpLFxuICAgICAgdG86IEJpZ0ludCh0cmFuc2FjdGlvbi50byB8fCBcIjB4MFwiKS50b1N0cmluZygpLFxuICAgICAgZ2FzTGltaXQ6IHRyYW5zYWN0aW9uLmdhc0xpbWl0ID8gTnVtYmVyKHRyYW5zYWN0aW9uLmdhc0xpbWl0KSA6IDAsXG4gICAgICBnYXNQZXJQdWJkYXRhQnl0ZUxpbWl0OiBERUZBVUxUX0dBU19QRVJfUFVCREFUQV9MSU1JVCxcbiAgICAgIG1heEZlZVBlckdhczogZXRoZXJzLkJpZ051bWJlci5mcm9tKHRyYW5zYWN0aW9uLm1heEZlZVBlckdhcykudG9OdW1iZXIoKSxcbiAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBldGhlcnMuQmlnTnVtYmVyLmZyb20odHJhbnNhY3Rpb24ubWF4UHJpb3JpdHlGZWVQZXJHYXMpLnRvTnVtYmVyKCksXG4gICAgICBwYXltYXN0ZXI6IEJpZ0ludChwbURhdGFSZXN1bHQucGF5bWFzdGVyKS50b1N0cmluZygpLFxuICAgICAgbm9uY2U6IGV0aGVycy5CaWdOdW1iZXIuZnJvbSh0cmFuc2FjdGlvbi5ub25jZSkudG9OdW1iZXIoKSxcbiAgICAgIHZhbHVlOiBldGhlcnMuQmlnTnVtYmVyLmZyb20odHJhbnNhY3Rpb24udmFsdWUpLnRvTnVtYmVyKCksXG4gICAgICBkYXRhOiB0cmFuc2FjdGlvbi5kYXRhIHx8IFwiMHhcIixcbiAgICAgIGZhY3RvcnlEZXBzOiBbXSxcbiAgICAgIHBheW1hc3RlcklucHV0OiBldGhlcnMudXRpbHMuYXJyYXlpZnkocG1EYXRhUmVzdWx0LnBheW1hc3RlcklucHV0KVxuICAgIH07XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgdGhpcy5fc2lnblR5cGVkRGF0YSh7XG4gICAgICBuYW1lOiBcInprU3luY1wiLFxuICAgICAgdmVyc2lvbjogXCIyXCIsXG4gICAgICBjaGFpbklkOiB0cmFuc2FjdGlvbi5jaGFpbklkXG4gICAgfSwgRUlQNzEyX1RZUEVTLCBlaXA3MTJ0eCk7XG4gICAgY29uc3Qgc2VyaWFsaXplZFR4ID0gdGhpcy5zZXJpYWxpemUodHJhbnNhY3Rpb24sIHNpZ25hdHVyZSk7XG4gICAgY29uc3QgemtTaWduZWRUeCA9IHtcbiAgICAgIGZyb206IHRyYW5zYWN0aW9uLmZyb20/LnRvU3RyaW5nKCkgfHwgKGF3YWl0IHRoaXMuZ2V0QWRkcmVzcygpKSxcbiAgICAgIHRvOiB0cmFuc2FjdGlvbi50bz8udG9TdHJpbmcoKSB8fCBcIlwiLFxuICAgICAgZ2FzOiB0cmFuc2FjdGlvbi5nYXNMaW1pdD8udG9TdHJpbmcoKSB8fCBcIlwiLFxuICAgICAgbWF4RmVlUGVyR2FzOiB0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXM/LnRvU3RyaW5nKCkgfHwgXCIwXCIsXG4gICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogdHJhbnNhY3Rpb24ubWF4UHJpb3JpdHlGZWVQZXJHYXM/LnRvU3RyaW5nKCkgfHwgXCIwXCIsXG4gICAgICBzaWduZWRUcmFuc2FjdGlvbjogc2VyaWFsaXplZFR4LFxuICAgICAgcGF5bWFzdGVyOiBwbURhdGFSZXN1bHQucGF5bWFzdGVyXG4gICAgfTtcbiAgICBjb25zdCBicm9hZGNhc3RSZXN1bHQgPSBhd2FpdCB0aGlzLmh0dHBScGNDbGllbnQ/LnprQnJvYWRjYXN0VHJhbnNhY3Rpb24oemtTaWduZWRUeCk7XG4gICAgY29uc3QgaGFzaCA9IGJyb2FkY2FzdFJlc3VsdC50cmFuc2FjdGlvbkhhc2g7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucHJvdmlkZXI/LmdldFRyYW5zYWN0aW9uKGhhc2gpO1xuICB9XG4gIHNlcmlhbGl6ZSh0cmFuc2FjdGlvbiwgc2lnbmF0dXJlKSB7XG4gICAgaWYgKCF0cmFuc2FjdGlvbi5jdXN0b21EYXRhICYmIHRyYW5zYWN0aW9uLnR5cGUgIT09IEVJUDcxMl9UWF9UWVBFKSB7XG4gICAgICByZXR1cm4gdXRpbHMuc2VyaWFsaXplVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24sIHNpZ25hdHVyZSk7XG4gICAgfVxuICAgIGlmICghdHJhbnNhY3Rpb24uY2hhaW5JZCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUcmFuc2FjdGlvbiBjaGFpbklkIGlzbid0IHNldCFcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvcm1hdE51bWJlcih2YWx1ZSwgbmFtZSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdXRpbHMuc3RyaXBaZXJvcyhCaWdOdW1iZXIuZnJvbSh2YWx1ZSkudG9IZXhTdHJpbmcoKSk7XG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDMyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsZW5ndGggZm9yICR7bmFtZX0hYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAoIXRyYW5zYWN0aW9uLmZyb20pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGxpY2l0bHkgcHJvdmlkaW5nIGBmcm9tYCBmaWVsZCBpcyByZXF1aXJlZCBmb3IgRUlQNzEyIHRyYW5zYWN0aW9ucyFcIik7XG4gICAgfVxuICAgIGNvbnN0IGZyb20gPSB0cmFuc2FjdGlvbi5mcm9tO1xuICAgIGNvbnN0IG1ldGEgPSB0cmFuc2FjdGlvbi5jdXN0b21EYXRhID8/IHt9O1xuICAgIGNvbnN0IG1heEZlZVBlckdhcyA9IHRyYW5zYWN0aW9uLm1heEZlZVBlckdhcyB8fCB0cmFuc2FjdGlvbi5nYXNQcmljZSB8fCAwO1xuICAgIGNvbnN0IG1heFByaW9yaXR5RmVlUGVyR2FzID0gdHJhbnNhY3Rpb24ubWF4UHJpb3JpdHlGZWVQZXJHYXMgfHwgbWF4RmVlUGVyR2FzO1xuICAgIGNvbnN0IGZpZWxkcyA9IFtmb3JtYXROdW1iZXIodHJhbnNhY3Rpb24ubm9uY2UgfHwgMCwgXCJub25jZVwiKSwgZm9ybWF0TnVtYmVyKG1heFByaW9yaXR5RmVlUGVyR2FzLCBcIm1heFByaW9yaXR5RmVlUGVyR2FzXCIpLCBmb3JtYXROdW1iZXIobWF4RmVlUGVyR2FzLCBcIm1heEZlZVBlckdhc1wiKSwgZm9ybWF0TnVtYmVyKHRyYW5zYWN0aW9uLmdhc0xpbWl0IHx8IDAsIFwiZ2FzTGltaXRcIiksIHRyYW5zYWN0aW9uLnRvID8gdXRpbHMuZ2V0QWRkcmVzcyh0cmFuc2FjdGlvbi50bykgOiBcIjB4XCIsIGZvcm1hdE51bWJlcih0cmFuc2FjdGlvbi52YWx1ZSB8fCAwLCBcInZhbHVlXCIpLCB0cmFuc2FjdGlvbi5kYXRhIHx8IFwiMHhcIl07XG4gICAgaWYgKHNpZ25hdHVyZSkge1xuICAgICAgY29uc3Qgc2lnID0gdXRpbHMuc3BsaXRTaWduYXR1cmUoc2lnbmF0dXJlKTtcbiAgICAgIGZpZWxkcy5wdXNoKGZvcm1hdE51bWJlcihzaWcucmVjb3ZlcnlQYXJhbSwgXCJyZWNvdmVyeVBhcmFtXCIpKTtcbiAgICAgIGZpZWxkcy5wdXNoKHV0aWxzLnN0cmlwWmVyb3Moc2lnLnIpKTtcbiAgICAgIGZpZWxkcy5wdXNoKHV0aWxzLnN0cmlwWmVyb3Moc2lnLnMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmllbGRzLnB1c2goZm9ybWF0TnVtYmVyKHRyYW5zYWN0aW9uLmNoYWluSWQsIFwiY2hhaW5JZFwiKSk7XG4gICAgICBmaWVsZHMucHVzaChcIjB4XCIpO1xuICAgICAgZmllbGRzLnB1c2goXCIweFwiKTtcbiAgICB9XG4gICAgZmllbGRzLnB1c2goZm9ybWF0TnVtYmVyKHRyYW5zYWN0aW9uLmNoYWluSWQsIFwiY2hhaW5JZFwiKSk7XG4gICAgZmllbGRzLnB1c2godXRpbHMuZ2V0QWRkcmVzcyhmcm9tKSk7XG5cbiAgICAvLyBBZGQgbWV0YVxuICAgIGZpZWxkcy5wdXNoKGZvcm1hdE51bWJlcihtZXRhLmdhc1BlclB1YmRhdGEgfHwgREVGQVVMVF9HQVNfUEVSX1BVQkRBVEFfTElNSVQsIFwiZ2FzUGVyUHViZGF0YVwiKSk7XG4gICAgZmllbGRzLnB1c2goKG1ldGEuZmFjdG9yeURlcHMgPz8gW10pLm1hcChkZXAgPT4gdXRpbHMuaGV4bGlmeShkZXApKSk7XG4gICAgaWYgKG1ldGEuY3VzdG9tU2lnbmF0dXJlICYmIGV0aGVycy51dGlscy5hcnJheWlmeShtZXRhLmN1c3RvbVNpZ25hdHVyZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbXB0eSBzaWduYXR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkIVwiKTtcbiAgICB9XG4gICAgZmllbGRzLnB1c2gobWV0YS5jdXN0b21TaWduYXR1cmUgfHwgXCIweFwiKTtcbiAgICBpZiAobWV0YS5wYXltYXN0ZXJQYXJhbXMpIHtcbiAgICAgIGZpZWxkcy5wdXNoKFttZXRhLnBheW1hc3RlclBhcmFtcy5wYXltYXN0ZXIsIGV0aGVycy51dGlscy5oZXhsaWZ5KG1ldGEucGF5bWFzdGVyUGFyYW1zLnBheW1hc3RlcklucHV0KV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWVsZHMucHVzaChbXSk7XG4gICAgfVxuICAgIHJldHVybiB1dGlscy5oZXhDb25jYXQoW1tFSVA3MTJfVFhfVFlQRV0sIHV0aWxzLlJMUC5lbmNvZGUoZmllbGRzKV0pO1xuICB9XG59XG5cbmNsYXNzIFprU3luY0Nvbm5lY3RvciBleHRlbmRzIENvbm5lY3RvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhaW5JZFwiLCAxKTtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBhc3luYyBjb25uZWN0KGFyZ3MpIHtcbiAgICB0aGlzLnBlcnNvbmFsV2FsbGV0ID0gYXJncy5wZXJzb25hbFdhbGxldDtcbiAgICB0aGlzLmNoYWluSWQgPSBhd2FpdCAoYXdhaXQgdGhpcy5wZXJzb25hbFdhbGxldC5nZXRTaWduZXIoKSkuZ2V0Q2hhaW5JZCgpO1xuICAgIGlmICghKGF3YWl0IGlzWmtTeW5jQ2hhaW4odGhpcy5jaGFpbklkKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgemtzeW5jIGNoYWluIGlkXCIpO1xuICAgIH1cbiAgICBjb25zdCBidW5kbGVyVXJsID0gdGhpcy5jb25maWcuYnVuZGxlclVybCB8fCBgaHR0cHM6Ly8ke3RoaXMuY2hhaW5JZH0uYnVuZGxlci50aGlyZHdlYi5jb21gO1xuICAgIGNvbnN0IGVudHJ5UG9pbnRBZGRyZXNzID0gdGhpcy5jb25maWcuZW50cnlQb2ludEFkZHJlc3MgfHwgRU5UUllQT0lOVF9BRERSRVNTO1xuICAgIHRoaXMuaHR0cFJwY0NsaWVudCA9IG5ldyBIdHRwUnBjQ2xpZW50KGJ1bmRsZXJVcmwsIGVudHJ5UG9pbnRBZGRyZXNzLCB0aGlzLmNoYWluSWQsIHRoaXMuY29uZmlnLmNsaWVudElkLCB0aGlzLmNvbmZpZy5zZWNyZXRLZXkpO1xuICAgIHJldHVybiB0aGlzLmdldEFkZHJlc3MoKTtcbiAgfVxuICBkaXNjb25uZWN0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIGFzeW5jIGdldEFkZHJlc3MoKSB7XG4gICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgdGhpcy5nZXRTaWduZXIoKTtcbiAgICByZXR1cm4gc2lnbmVyLmdldEFkZHJlc3MoKTtcbiAgfVxuICBhc3luYyBnZXRTaWduZXIoKSB7XG4gICAgaWYgKCF0aGlzLnBlcnNvbmFsV2FsbGV0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXYWxsZXQgbm90IGNvbm5lY3RlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBaa1dyYXBwZWRTaWduZXIoYXdhaXQgdGhpcy5wZXJzb25hbFdhbGxldC5nZXRTaWduZXIoKSwgdGhpcy5odHRwUnBjQ2xpZW50KTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgc3dpdGNoQ2hhaW4oY2hhaW5JZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoISF0aGlzLnBlcnNvbmFsV2FsbGV0KTtcbiAgfVxuICBzZXR1cExpc3RlbmVycygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgdXBkYXRlQ2hhaW5zKGNoYWlucykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIGFzeW5jIGdldFByb3ZpZGVyKCkge1xuICAgIGlmICghdGhpcy5nZXRTaWduZXIoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGVyc29uYWwgd2FsbGV0IG5vdCBjb25uZWN0ZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHRoaXMuZ2V0U2lnbmVyKCk7XG4gICAgaWYgKCFzaWduZXIucHJvdmlkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVyIG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpZ25lci5wcm92aWRlcjtcbiAgfVxufVxuXG5leHBvcnQgeyBaa1N5bmNDb25uZWN0b3IgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/dist/zk-connector-fada2157.browser.esm.js\n"));

/***/ })

}]);